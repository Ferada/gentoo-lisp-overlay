diff -ur slime.orig/swank-ecl.lisp slime/swank-ecl.lisp
--- slime.orig/swank-ecl.lisp	2008-01-10 21:12:21.000000000 +0100
+++ slime/swank-ecl.lisp	2008-01-18 11:56:16.000000000 +0100
@@ -22,7 +22,8 @@
 
 ;;;; TCP Server
 
-(require 'sockets)
+(eval-when (:compile-toplevel :load-toplevel :execute)
+  (require 'sockets))
 
 (defun resolve-hostname (name)
   (car (sb-bsd-sockets:host-ent-addresses
@@ -201,20 +202,21 @@
 
 ;;; Debugging
 
-(import
- '(si::*ihs-top*
-   si::*ihs-current*
-   si::*ihs-base*
-   si::*frs-base*
-   si::*frs-top*
-   si::*tpl-commands*
-   si::*tpl-level*
-   si::frs-top
-   si::ihs-top
-   si::sch-frs-base
-   si::set-break-env
-   si::set-current-ihs
-   si::tpl-commands))
+(eval-when (:compile-toplevel :load-toplevel :execute)
+  (import
+   '(si::*ihs-top*
+     si::*ihs-current*
+     si::*ihs-base*
+     si::*frs-base*
+     si::*frs-top*
+     si::*tpl-commands*
+     si::*tpl-level*
+     si::frs-top
+     si::ihs-top
+     si::sch-frs-base
+     si::set-break-env
+     si::set-current-ihs
+     si::tpl-commands)))
 
 (defimplementation call-with-debugging-environment (debugger-loop-fn)
   (declare (type function debugger-loop-fn))
diff -ur slime.orig/swank.lisp slime/swank.lisp
--- slime.orig/swank.lisp	2008-01-10 21:12:23.000000000 +0100
+++ slime/swank.lisp	2008-01-18 12:05:56.000000000 +0100
@@ -1451,7 +1451,8 @@
                   (process-form-for-emacs (cdr form))))
     (character (format nil "?~C" form))
     (symbol (concatenate 'string (when (eq (symbol-package form)
-                                           #.(find-package "KEYWORD"))
+                                           #-ecl #.(find-package "KEYWORD")
+                                           #+ecl (find-package "KEYWORD"))
                                    ":")
                          (string-downcase (symbol-name form))))
     (number (let ((*print-base* 10))
